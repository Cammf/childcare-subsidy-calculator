/* =============================================================================
   CSS CUSTOM PROPERTIES — light and dark theme tokens
   next-themes adds class="dark" to <html> when dark mode is active.
   Tailwind semantic color tokens (background, card, text-main, muted, border)
   point to these variables, so every element using those tokens switches
   automatically without per-element dark: overrides.
   ============================================================================= */

:root {
  --color-background: #F7F8FA;
  --color-card:       #FFFFFF;
  --color-text-main:  #1A202C;
  --color-muted:      #4A5568;
  --color-border:     #E2E8F0;
}

.dark {
  --color-background: #0F172A;  /* slate-950 */
  --color-card:       #1E293B;  /* slate-800 */
  --color-text-main:  #F1F5F9;  /* slate-100 */
  --color-muted:      #94A3B8;  /* slate-400 */
  --color-border:     #334155;  /* slate-700 */
}

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    font-family: 'Inter', sans-serif;
    font-size: 17px;
    line-height: 1.7;
    /* Use CSS variables so color switches with the .dark class */
    color: var(--color-text-main);
    background-color: var(--color-background);
  }

  h1 {
    font-size: 32px;
    font-weight: 700;
    line-height: 1.2;
  }

  h2 {
    font-size: 24px;
    font-weight: 600;
    line-height: 1.3;
  }

  h3 {
    font-size: 20px;
    font-weight: 600;
    line-height: 1.4;
  }

  /* Ensure minimum font size of 15px for all text */
  small,
  .text-sm {
    font-size: 15px;
  }
}

@layer components {
  .btn-primary {
    @apply bg-primary text-white font-semibold px-6 py-3 rounded-lg min-h-[48px] min-w-[48px] hover:bg-cyan-800 transition-colors focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 dark:focus:ring-offset-slate-900;
  }

  /* bg-card → driven by CSS variable, auto-switches in dark mode */
  .card {
    @apply bg-card rounded-lg p-6 shadow-card border border-border;
  }

  .input-field {
    @apply w-full border border-border rounded-lg px-4 text-base min-h-[48px] focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent bg-card text-text-main;
    font-size: 17px;
  }

  .label {
    @apply block font-medium text-text-main mb-1;
    font-size: 17px;
  }

  .btn-secondary {
    @apply bg-card text-primary font-semibold px-6 py-3 rounded-lg min-h-[48px] min-w-[48px] border border-primary hover:bg-teal-50 dark:hover:bg-teal-950 transition-colors focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 dark:focus:ring-offset-slate-900;
  }
}

/* =============================================================================
   GUIDE / ARTICLE PROSE STYLES
   Applied to .prose-guide wrapper inside GuideLayout
   ============================================================================= */
.prose-guide {
  color: var(--color-text-main);
  font-size: 17px;
  line-height: 1.8;
}

.prose-guide h2 {
  font-size: 24px;
  font-weight: 600;
  line-height: 1.3;
  color: var(--color-text-main);
  margin-top: 2.5rem;
  margin-bottom: 1rem;
  padding-bottom: 0.5rem;
  border-bottom: 2px solid var(--color-border);
}

.prose-guide h3 {
  font-size: 20px;
  font-weight: 600;
  line-height: 1.4;
  color: var(--color-text-main);
  margin-top: 2rem;
  margin-bottom: 0.75rem;
}

.prose-guide p {
  margin-bottom: 1.25rem;
}

.prose-guide ul,
.prose-guide ol {
  margin-bottom: 1.25rem;
  padding-left: 1.5rem;
}

.prose-guide ul {
  list-style-type: disc;
}

.prose-guide ol {
  list-style-type: decimal;
}

.prose-guide li {
  margin-bottom: 0.4rem;
}

.prose-guide strong {
  font-weight: 600;
  color: var(--color-text-main);
}

.prose-guide a {
  color: #0E7490;
  text-decoration: underline;
  text-underline-offset: 2px;
}

.prose-guide a:hover {
  color: #0c4a6e;
}

/* Callout / info box */
.prose-guide .callout {
  background: #ECFEFF;
  border-left: 4px solid #0E7490;
  border-radius: 0 8px 8px 0;
  padding: 1rem 1.25rem;
  margin: 1.5rem 0;
}

.dark .prose-guide .callout {
  background: #164e63;  /* cyan-900 */
}

/* Warning callout */
.prose-guide .callout-warning {
  background: #FFFBEB;
  border-left: 4px solid #B45309;
  border-radius: 0 8px 8px 0;
  padding: 1rem 1.25rem;
  margin: 1.5rem 0;
}

.dark .prose-guide .callout-warning {
  background: #451a03;  /* amber-950 */
}

/* Success / tip callout */
.prose-guide .callout-tip {
  background: #F0FFF4;
  border-left: 4px solid #065F46;
  border-radius: 0 8px 8px 0;
  padding: 1rem 1.25rem;
  margin: 1.5rem 0;
}

.dark .prose-guide .callout-tip {
  background: #052e16;  /* green-950 */
}

/* Data/worked example table */
.prose-guide table {
  width: 100%;
  border-collapse: collapse;
  margin: 1.5rem 0;
  font-size: 15px;
}

.prose-guide th {
  background: #0E7490;
  color: white;
  font-weight: 600;
  padding: 0.625rem 1rem;
  text-align: left;
}

.prose-guide td {
  padding: 0.625rem 1rem;
  border-bottom: 1px solid var(--color-border);
  vertical-align: top;
}

.prose-guide tr:nth-child(even) td {
  background: var(--color-background);
}

.prose-guide tr:last-child td {
  border-bottom: none;
}

/* =============================================================================
   DARK MODE OVERRIDES — hard-coded Tailwind utility classes
   These catch bg-gray-50 / bg-teal-50 / hover variants used throughout the
   wizard and results components that bypass CSS variable theming.
   Only takes effect when next-themes adds class="dark" to <html>.
   ============================================================================= */

/* Page panels and alternating table rows — 4% white lift above bg-card (slate-800) */
.dark .bg-gray-50 {
  background-color: rgba(255, 255, 255, 0.04);
}

/* Selected card states and info callouts — translucent teal tint on dark surface */
.dark .bg-teal-50 {
  background-color: rgba(13, 148, 136, 0.15);
}

/* Unselected card hover on dark surface → slate-700, slightly lighter than slate-800 base */
.dark .hover\:bg-gray-50:hover {
  background-color: #334155;
}

/* Active-intent card hover on dark surface → slightly stronger teal tint */
.dark .hover\:bg-teal-50:hover {
  background-color: rgba(13, 148, 136, 0.22);
}

/* Print styles — clean print view for results page */
@media print {
  /* Hide ads and interactive-only elements */
  .ad-slot,
  .print\:hidden {
    display: none !important;
  }

  /* Remove page background, use white */
  html,
  body {
    background: white !important;
    font-size: 14px !important;
  }

  /* Ensure cards print without box-shadow */
  .card {
    box-shadow: none !important;
    border: 1px solid #E2E8F0 !important;
    break-inside: avoid;
  }

  /* Remove coloured backgrounds that waste ink */
  .bg-teal-50,
  .bg-green-50,
  .bg-amber-50,
  .bg-red-50 {
    background: white !important;
  }

  /* Force page breaks to avoid splitting cards mid-content */
  section {
    break-inside: avoid;
  }

  /* Ensure links print as text */
  a[href]::after {
    content: none;
  }
}
